<!doctype html>
<html lang="en">
  <head>
    <!-- Required meta tags -->
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <script
    src="https://code.jquery.com/jquery-3.7.1.js"
    integrity="sha256-eKhayi8LEQwp4NKxN+CfCh+3qOVUtJn3QNZ0TciWLP4="
    crossorigin="anonymous"></script>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/css/bootstrap.min.css" integrity="sha384-Gn5384xqQ1aoWXA+058RXPxPg6fy4IWvTNh0E263XmFcJlSAwiGgFAW/dAiS6JXm" crossorigin="anonymous">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css" integrity="sha512-z3gLpd7yknf1YoNbCzqRKc4qyor8gaKU1qmn+CShxbuBusANI9QpRohGBreCFkKxLhei6S9CQXFEbbKuqLg0DA==" crossorigin="anonymous" referrerpolicy="no-referrer" />
    <link rel="stylesheet" href="/styles/main.css" />
    <link rel="stylesheet" href="/styles/hover.css" />
    <link rel="stylesheet" href="/styles/favourites.css" />


    <title>FAVORITES</title>
  </head>

  <body>
    <%- include('partials/_header') %>

    <div class="container-fluid mt-3  rounded  no-padding">
      <div class = "row justify-content-end search-form-container">
        <form class="form-inline search-form" method="POST" action="/items/search">
          <div class="input-group">
            <input class="form-control mr-sm-2" type="search" placeholder="Min Price" aria-label="Min Price" name="min">
            <input class="form-control mr-sm-2" type="search" placeholder="Max Price" aria-label="Max Price" name="max">
            <div class="input-group-append">
              <button class="btn btn-primary" type="submit">Search</button>
            </div>
          </div>
        </form>
      </div>
    <br>
    <div class="row box-containt">
      <% for (let item of items) { %>
        <div class="col-md-3 mb-4">
          <div class="card h-100 border border-primary rounded shadow">
            <a href="/items/<%= item.id %>">
              <div class="heart-overlay">
                <form action="/favorites/<%= item.id %>/delete" method="POST">
                  <button type="submit" class="heart-icon" style="background-color: transparent; border: none;">
                    <i class="fa-solid fa-heart"></i>
                  </button>
                </form>
              </div>
              <% if (item.sold) { %>
                <div class="sold-out-overlay">
                  <img class="sold-out-image" src="/docs/sold.png" alt="Sold Out">
                </div>
                <% } %>
              <img class="card-img-top img-fluid" src="<%= item.imageurl %>" alt="<%= item.name %>" style="height: 200px; object-fit: cover;">
              <div class="card-body">
                <h5 class="card-title text-primary mb-0">
                  <%= item.name %>
                </h5>
                <p class="card-text text-secondary">$<%= item.price / 100 %></p>
              </div>
            </a>
          </div>
        </div>
      <% } %>
    </div>





    <!-- Optional JavaScript -->
    <!-- jQuery first, then Popper.js, then Bootstrap JS -->
    <script src="https://cdn.jsdelivr.net/npm/popper.js@1.12.9/dist/umd/popper.min.js" integrity="sha384-ApNbgh9B+Y1QKtv3Rn7W3mgPxhU9K/ScQsAP7hUibX39j7fakFPskvXusvfa0b4Q" crossorigin="anonymous"></script>
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@4.0.0/dist/js/bootstrap.min.js" integrity="sha384-JZR6Spejh4U02d8jOt6vLEHfe/JQGiRRSQQxSfFWpi1MquVdAyjUar5+76PVCmYl" crossorigin="anonymous"></script>
  </body>
</html>
